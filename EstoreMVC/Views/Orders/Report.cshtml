<!-- EstoreMVC/Views/OrderDetails/Report.cshtml -->
@model IEnumerable<EstoreMVC.Models.OrderDetail>

<h2>Order Detail Report</h2>

<form asp-controller="OrderDetails" asp-action="Report" method="get">
    <label for="fromDate">From Date:</label>
    <input type="date" id="fromDate" name="fromDate" value="@DateTime.Now.AddMonths(-1).ToString("yyyy-MM-dd")" />

    <label for="toDate">To Date:</label>
    <input type="date" id="toDate" name="toDate" value="@DateTime.Now.ToString("yyyy-MM-dd")" />

    <button type="submit">Filter</button>
</form>

<p>Order Count: @Model.Count()</p>

<table class="table">
    <thead>
    <th>Order Detail ID</th>
    <th>Product ID</th>
    <th>Order ID</th>
    <th>Unit Price</th>
    <th>Quantity</th>
    <th>Discount</th>
    <th>Product Name</th>
    <!-- Add more columns as needed -->
    </thead>
    <tbody>
        @foreach (var orderDetail in Model)
        {
            <tr>
                <td>@orderDetail.OrderDetailId</td>
                <td>@orderDetail.ProductId</td>
                <td>@orderDetail.OrderId</td>
                <td>@orderDetail.UnitPrice</td>
                <td>@orderDetail.Quantity</td>
                <td>@orderDetail.Discount</td>
                <td>@orderDetail.Product.ProductName</td>
                <!-- Add more cells as needed -->
            </tr>
        }
    </tbody>
</table>
